# Mybatis高级查询  

&emsp;&emsp;本章主要包含的内容为MyBatis的高级结果映射，主要处理数据库一对一、一对多的查询，另外就是在MyBatis中使用存储过程的方法，处理存储过程的入参和出参方法，最后还介绍了Java中的枚举方法和数据库表字段的处理方法。  

## 高级结果映射  
&emsp;&emsp;在关系型数据库中，经常要处理一对一，一对多的关系。  
&emsp;&emsp;在RABC权限系统中还存在着一个用户拥有多个角色、一个角色拥有多个权限这样复杂的嵌套关系。在面对这种关系的时候，我们可能要写多个方法分别查询这些数据，然后组合到一起。这种处理方式特别适合在大型系统上，由于分库分表，这种用法可以减少表之间的关联查询，方便系统进行扩展。但是在一般的企业级应用中，使用MyBatis的高级结果映射便可以轻松地处理这种一对一、一对多的关系。  

### 一对一映射  
&emsp;&emsp;假设在RBAC权限系统中，一个用户只能拥有一个角色，为了举例，先把用户和角色之间的关系限制为一对一的关系。一对一映射因为不需要考虑是否存在重复数据，因此使用起来很简单，而且可以直接使用MyBatis的自动映射。使用自动映射实现在查询用户信息的同时获取用户拥有的角色。   


